var storage = require('node-persist');

var person = {
	id: 0,
	fullname: "", 
	age: 0
}

storage.initSync({
	dir: "Person List"
})

function getAllPerson () {
	var person = storage.getItemSync('Person List');
	if(typeof person == "undefined"){
		return [];
	}
	console.log(person);
	return person;
}

function addPerson(personID, personName, personAge){
	var person = getAllPerson();
	person.push({
		id: personID,
		fullname: personName,
		age: personAge
	})
	storage.setItemSync('Person List', person);
}

function searchByID(personID){
	var person = getAllPerson();
	for (var i = 0; i < person.length; i++) {
		if(personID == person[i].id){
			console.log(person[i].id);
			console.log('==== '+person[i].id+
				'\n==== '+person[i].fullname+
				'\n==== '+person[i].age);
		}
	}
}
/*
addPerson(2,'An',29)
searchByID(2);*/
getAllPerson();

